{% extends "base.html" %}

{% block pl_script %}
    {{ plot_scripts[0]|indent(4)|safe }}
    {{ plot_scripts[1]|indent(4)|safe }}

{% endblock %}

{% block content %}
    <div class="original">
        {{ chart_element(building_names[0], point_names[0], start_dates[0], end_dates[0], False, True)}}
        {{ plot_divs[0]|indent(4)|safe }}
    </div>
    <div class="comparison">
        {{ chart_element(building_names[1], point_names[1], start_dates[1], end_dates[1], comparison_hidden)}}
        {{ plot_divs[1]|indent(4)|safe }}
    </div>

{% endblock %}


{% macro chart_element(building_name, point_name, start_date, end_date, hidden = False, first_el = False) -%}
    <div class="container {% if hidden %} hidden {%endif %}" xmlns="http://www.w3.org/1999/html">
        {% if first_el %}
            <button class="add-comparison">+ Add Comparison</button>
        {% endif %}
        <form name="color_button" method='GET'>
            <label>Building</label>
            <select name="building">
                <option {{ "selected" if building_name|indent(4)|safe == "Libe" }} value="2">Library</option>
            </select>
            <label>Point name</label>
            <select name="point">
                <option {{ "selected" if point_name|indent(4)|safe == "LAB HOT H2O TEMP" }} value="511">LAB HOT H2O TEMP</option>
                <option {{ "selected" if point_name|indent(4)|safe == "A1 CCL TEMP" }} value="512">A1 CCL TEMP</option>
                <option {{ "selected" if point_name|indent(4)|safe == "AH2 AIR VOLU" }} value="513">AH2 AIR VOLU</option>
                <option {{ "selected" if point_name|indent(4)|safe == "STATIC SET" }} value="514">STATIC SET</option>
            </select>
            <br>
            <label>From</label>
            <input type="date" name="_from" value="{{ start_date }}">
            <label>To</label>
            <input type="date" name="to" value="{{ end_date }}">
            <br>
            <input type="submit" value="Submit"/>
        </form>

    </div>
{% endmacro %}
